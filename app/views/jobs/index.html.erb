<% content_for :title, "Jobs" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div id="jobs" class="min-w-full divide-y divide-gray-200 space-y-5">
    <h1 class="text-2xl font-bold mb-6">Available Jobs</h1>

    <table class="min-w-full bg-white border border-gray-200 shadow rounded">
      <thead class="bg-gray-100 text-left text-sm uppercase font-semibold text-gray-600">
        <tr>
          <th class="px-4 py-3 border-b">Title</th>
          <th class="px-4 py-3 border-b">Description</th>
          <th class="px-4 py-3 border-b text-center">Action</th>
        </tr>
      </thead>
      <tbody>
        <% @jobs.each do |job| %>
          <tr class="hover:bg-gray-50 border-t">
            <td class="px-4 py-3 font-medium text-gray-800"><%= job.title %></td>
            <td class="px-4 py-3 text-gray-600"><%= truncate(job.description, length: 120) %></td>
            <td class="px-4 py-3 text-center">
              <%= button_to "Start Interview", start_interview_job_path(job), method: :post,
                  class: "bg-blue-600 text-white text-sm px-4 py-2 rounded hover:bg-blue-700" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
